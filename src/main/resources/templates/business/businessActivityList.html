<!DOCTYPE html>
<html lang="ko" xmlns:th="https://www.thymeleaf.org">
<head>
<th:block th:replace="@{common/config} :: config"></th:block>
</head>

<body id="page-top">
	<div id="wrapper">
	
		<!-- Sidebar -->
		<th:block th:replace="@{/common/sidebar} :: sidebar"></th:block>

		<div id="content-wrapper" class="d-flex flex-column">
			<div id="content">
			
				<!-- Header -->
				<th:block th:replace="@{/common/header} :: header"></th:block>

				<!-- Container Fluid-->
				<div class="container-fluid" id="container-wrapper">
					<div class="d-sm-flex align-items-center justify-content-between mb-4">
						<h1 class="h3 mb-0 text-gray-800">영업활동</h1>
						<ol class="breadcrumb">
							<li class="breadcrumb-item"><a th:href="@{/dashboard}">Home</a></li>
							<li class="breadcrumb-item">영업관리</li>
							<li class="breadcrumb-item active" aria-current="page">영업활동</li>
						</ol>
					</div>

					<!-- Row -->
					<div class="row">
					
					<!-- DataTable with Hover -->
						<div class="col-lg-4" style="padding-left: 50px;">
							<div style="background: lightgray;">
								<div th:align="center"
									style="font-size: 20px; font-weight: bold;">담당중인 고객 리스트</div>
							</div>
								<div class="card mb-4">
									<div class="table-responsive p-3" style="overflow-y: scroll; height: 700px;">
										<table class="table align-items-center table-flush table-hover"	id="table_activity">
											<thead th:align="center" class="thead-light">
												<tr>
													<th>고객번호</th>
													<th>고객명</th>
													<th>관리</th>
												</tr>
											</thead>
											<tbody align="center">
												<tr th:each="activityList : ${businessActivityList}">
													<td th:text="${activityList.activityNo}"></td>
													<td th:text="${activityList.empName}"></td>
													<td><a class="btn-sm btn-info activityDetail"
													       id="activityDetail" 
													       th:value="${ activityList.activityNo }">
															<span class="text text-black">상세정보</span>
														</a>
													</td>
												</tr>
											</tbody>
										</table>
									</div>
								</div>
						</div>
					

						<!-- DataTable with Hover -->
						<div class="col-lg-8">
							<div class="card mb-4">
								<div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
									<h6 class="m-0 font-weight-bold text-primary">영업 활동 현황</h6>
									<div>
										<a class="btn btn-info btn-icon-split"
											th:onclick="location.href=''">
											<span class="icon text-white"><i class="fas fa-edit"></i></span>
											<span class="text text-white">영업활동등록</span>
										</a>
									</div>
								</div>
								<div class="table-responsive p-3">
									<table class="table align-items-center table-flush table-hover"	id="dataTableHover">
										<thead align="center" class="thead-light">
											<tr>
												<th>활동이력번호</th>
												<th>고객명</th>
												<th>활동주제</th>
												<th>담당자</th>
												<th>등록일</th>
												<th>관리</th>
											</tr>
										</thead>
										<tbody th:align="center">
											<tr th:each="activityList : ${businessActivityList}">
												<td th:text="${activityList.activityNo}"></td>
												<td th:text="${activityList.customerName}"></td>
												<td th:text="${activityList.businessSubject}"></td>
												<td th:text="${activityList.empName}"></td>
												<td th:text="${activityList.writingTime}"></td>
												<td><a class="btn btn-light btn-icon-split"
													th:href="@{/business/selectBasicInfo(activityNo=${ activityList.activityNo })}">
														<span class="icon text-black-50">
															<i class="fas fa-clipboard-list"></i>
														</span>
														<span class="text text-black">상세정보</span>
													</a>
												</td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

	<!-- Script -->
	<th:block th:replace="@{/common/script} :: script"></th:block>

	<!-- Page level plugins -->

	<!-- Page level custom scripts -->
	<script>
    $(document).ready(function () {
      $('#dataTable').DataTable(); // ID From dataTable 
      $('#dataTableHover').DataTable(); // ID From dataTable with Hover
    });
  </script>
  
</body>
</html>